<html>

<head>

  <title>Frogger</title>

  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>

  <script
    src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script>
  <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
</head>

<!--
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  
  <script
    src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script>
  <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
-->
<!--
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  <script
    src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.1.2/dist/aframe-physics-system.min.js"></script>
  <script src="https://unpkg.com/aframe-physics-extras@0.1.2/dist/aframe-physics-extras.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/aframevr/aframe-inspector@master/dist/aframe-inspector.min.js"></script>
    -->

</head>


<body>
  <a-scene physics>


    <script type="text/javascript">

      var velocidade = 0;
      var colisao = 0;
      var pontuacao = 0;



      AFRAME.registerComponent('carro', {
        tick: function () {
          this.el.getAttribute("position").z -= velocidade;
          this.el.getAttribute("position").x += velocidade;
          if (velocidade > -0.2) {
            velocidade -= 0.01;
          }
          if (this.el.getAttribute("position").z <= +5.5) {
            velocidade = 0;
          }
        },
        init: function () {
          this.el.addEventListener("collisions", (e) => {

            alert("Perdeste")
            location.reload()
          })
        }
      });



      AFRAME.registerComponent('ganho', {
        tick: function () {
          const position = this.el.getAttribute('position');

          /*  
          if(position.z <= -21.02)
            location.reload()
            pontuacao = pontuacao + 1;
            document.getElementById('placar').setAttribute('value','Score: ')
            */
        }
        ,

        init: function () {

          this.el.addEventListener("collisions", (e) => {
            pontuacao += 1;
            document.getElementById('placar').setAttribute('value', 'Score: ' + pontuacao)
            alert("passou o sapo")
            AFRAME.registerComponent('frog', {
              tick: function () {
                const position2 = frog.el.getAttribute('position')
                position2.x = 0;
                position2.y = 1.418;
                position2.z = -0.912;

                document.getElementById('cam').setAttribute('position', { x: -1, y: 3, z: 7 })
              }


            })
            /*const position2 = frog.el.getAttribute('position')
            position2.x =0; 
            position2.y =1.418;
            position2.z =-0.912;

            document.getElementById('cam').setAttribute('position',{x:-1, y:3, z:7}  )
            */
          })
        }

      });



    </script>

    <canvas class="a-canvas a-grab-cursor" data-aframe-canvas="true" width="395" height="571"></canvas>


    <!-- Personagem -->
    <a-box wasd-controls
      src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR7UKMJ05oOWH-HR2d8_dCiE8dtU0rpL0QCelZJQp1sX1L7X0nP&s"
      height="0.8" width="0.8" depth="0.6" id="frog" position="0 1.418 -0.912" rotation="-1 0 0" static-body
      physics-collider="ignoreSleep: true" frog material geometry velocity>
    </a-box>





    <!-- CARRINHOS -->

    <!-- CARRINHO 1 -->
    <a-entity position="-10 1.5 1" animation="property: position; to: 28 1.5 1; loop:true; dur: 2000">
      <!--
  <a-animation attribute="position"
               to="28 1.5 1"
               dur="2000"
               fill="forwards"
			   direction="right"
               repeat="indefinite"></a-animation>
               -->
      <a-box src="carrod.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="1.5" depth="0.15" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>


    <!-- CARRINHO 2 -->
    <a-entity position="-10 1.5 3" animation="property: position; to: 28 1.5 3; loop:true; dur: 3000">
      <!--<a-animation attribute="position" to="28 1.5 3" dur="3000" direction="right" repeat="indefinite"></a-animation> -->
      <a-box src="carroc.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="1.5" depth="0.15" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>

    <!-- CARRINHO 3 -->
    <a-entity position="28 1.5 -1 " animation="property: position; to: -10 1.5 -1; loop:true; dur: 2500">
      <!-- <a-animation attribute="position" to="-10 1.5 -1" dur="2500" direction="left" repeat="indefinite"></a-animation>-->
      <a-box src="carroa.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="1.5" depth="0.15" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>
    <!-- CARRINHO 4 -->
    <a-entity position="28 1.5 -3" animation="property: position; to: -10 1.5 -3; loop:true; dur: 3500">
      <!-- <a-animation attribute="position" to="-10 1.5 -3" dur="3500" direction="left" repeat="indefinite"></a-animation>-->
      <a-box src="caminhaoa.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="3" depth="0.1" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>


    <!-- BARCO 1 -->
    <a-entity position="-10 1.5 -7" animation="property: position; to: 28 1.5 -7; loop:true; dur: 2000">
      <a-box src="Barco1.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="3" depth="0.1" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>

    <!--BARCO 2-->
    <a-entity position="28 1.5 -9" animation="property: position; to: -10 1.5 -9; loop:true; dur: 3000">
      <a-box src="Barco2.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="3" depth="0.1" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>

    <!--BARCO 3-->
    <a-entity position="28 1.5 -11" animation="property: position; to: -10 1.5 -11; loop:true; dur: 5000">
      <a-box src="Barco3.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="3" depth="0.1" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>

    <!--BARCO 4-->
    <a-entity position="-10 1.5 -13" animation="property: position; to: 28 1.5 -13; loop:true; dur: 4000">
      <a-box src="Barco4.png" static-body physics-collider="ignoreSleep: true" position="-9 0 -5" rotation="0 0 0"
        radius="2.1" height="1.1" width="3" depth="0.1" color="#white" carro material geometry velocity>
      </a-box>;
    </a-entity>

    <!--posição para ganhar-->


    <a-box id="ganha" static-body physics-collider="ignoreSleep: true" position="0 1.1 -21.01" rotation="0 0 0"
      radius="2.1" height="2" width="40" depth="0.15" color="#04E414" ganho material geometry velocity>
    </a-box>

    <!--Pontuação-->

    <a-text id="placar" value="SCORE : 0" position="-10 5 -24" color="black" width="100" text=""></a-text>

    <!-- CONFIGURACAO DE CAMERA -->
    <a-entity id="cam" position="-1 3 7">
      <a-camera></a-camera>
    </a-entity>


    <!-- Faixas de pedestre -->
    <a-plane position="14 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="12 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="10 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="8 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="6 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="4 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="0 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="2 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-2 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-4 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-6 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-8 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-10 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-12 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-14 1.1 -3" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>

    <a-plane position="14 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="12 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="10 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="8 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="6 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="4 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="0 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="2 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-2 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-4 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-6 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-8 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-10 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-12 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-14 1.1 -5" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>


    <a-plane position="14 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="12 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="10 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="8 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="6 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="4 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="0 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="2 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-2 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-4 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-6 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-8 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-10 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-12 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>
    <a-plane position="-14 1.1 -7" rotation="-90 0 0" width="1" height="0.25" color="#FBFCFD"></a-plane>


    <!--   ground and sky -->
    <a-plane position="0 1 -4" rotation="-90 0 0" width="40" height="5" color="#696D71"></a-plane>
    <a-plane position="0 1 -8" rotation="-90 0 0" width="40" height="5" color="#696D71"></a-plane>
    <a-plane position="0 1 -15.5" rotation="-90 0 0" width="40" height="10" color="#0B71C9"></a-plane>
    <a-plane position="0 1 -21.01" rotation="-90 0 0" width="40" height="1" color="#04E414"></a-plane>
    <a-plane position="0 1 -1" rotation="-90 0 0" width="40" height="1" color="#04E414"></a-plane>

    <a-sky color="lightblue"></a-sky>




  </a-scene>
</body>

</html>